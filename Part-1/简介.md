# 第 1 部分 Apache Pulsar 入门
企业消息传递系统 (EMS) 旨在促进松散耦合的体系结构，允许地理分布的系统通过支持两种基本操作的简单 API 交换消息来相互通信：发布消息和订阅主题（读取消息）。在其 40 多年的历史进程中，企业消息传递系统已经产生了几种重要的分布式软件架构风格，包括

- 远程过程调用 (RPC) 编程，使用 COBRA 和 Amazon Web Services 等技术，使以不同语言开发的程序能够直接相互交互。
- 用于企业应用程序集成的面向消息的中间件 (MOM) 编程，以 Apache Camel 为例，它允许不同的系统使用 XML 或类似的自描述格式使用通用消息格式交换信息。
- 面向服务的体系结构 (SOA)，它促进了一种模块化的契约式编程风格，允许应用程序由以特定方式组合的服务组成，以执行必要的业务逻辑。
- 事件驱动架构 (EDA)，它促进生成、检测和响应单个状态变化（称为事件），并编写检测和响应这些单个事件的代码。采用这种风格的部分原因是为了满足处理互联网规模数据的连续流的需要，例如服务器日志和点击流等数字事件。

EMS 在这些架构风格中的每一种中都扮演着关键角色，因为它作为底层技术，允许这些分布式组件通过存储中间消息并及时分发给所有预期的消费者来相互通信。通过 EMS 进行的通信与其他一些仅基于网络的通信机制之间的主要区别在于，EMS 旨在保证消息传递。如果事件被发布到 EMS，它将被存储并转发给所有预期的接收者，而不是基于 HTTP 的微服务间调用可能会在网络故障的情况下丢失。

EMS 上保留的这些消息也被证明是组织的宝贵信息来源，他们可以分析这些信息以提取更多业务价值。考虑一下公司点击流为他们提供的有关客户行为的信息宝库。处理这些类型的数据源称为流处理，因为你实际上是在处理无限的数据流。这就是为什么人们对使用 Apache Flink 或 Spark 等分析工具处理这些流非常感兴趣的原因。

本书的第一部分提供了 EMS 的演进概述，重点是在每个演进步骤中添加的核心功能。拥有此背景将帮助你了解每一代的优势和劣势以及下一代在此过程中添加的功能，从而更好地了解各种消息传递系统如何相互比较。最后，我希望你能理解为什么 Apache Pulsar 是 EMS 沿袭的一个进化步骤，值得你考虑作为贵公司基础设施的关键部分。

第 1 章通过将 Apache Pulsar 与之前的各种消息传递平台进行比较和对比，对 Apache Pulsar 以及它在消息传递系统 40 年的演变中的位置进行了基本介绍。接下来，第 2 章深入探讨 Pulsar 物理架构的细节，以及它的多层架构如何允许其存储和计算层相互独立地扩展。它还描述了一些常见的消息消费模式，它们之间的区别，以及 Pulsar 如何支持它们。最后，第 3 章演示了如何从命令行以及使用其编程 API 与 Apache Pulsar 进行交互。完成本章后，你应该能够轻松地运行 Apache Pulsar 的本地实例并与之交互。